<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guess the Flag</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      text-align: center;
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #4facfe, #00f2fe);
      color: white;
    }
    h1 {
      margin: 20px 0;
      font-size: 2rem;
      font-weight: bold;
    }
    .game-container {
      max-width: 95%;
      margin: 10px auto;
      padding: 20px;
      background: #ffffff;
      color: #333;
      border-radius: 16px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.2);
      border: 4px solid transparent;
      transition: border-color 0.5s, box-shadow 0.5s;
    }
    #flag {
      width: 90%;
      max-width: 350px;
      height: auto;
      border: 2px solid #ccc;
      margin: 15px auto;
      display: block;
      border-radius: 12px;
    }
    .options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 15px;
    }
    button {
      padding: 14px;
      font-size: 18px;
      cursor: pointer;
      border: none;
      border-radius: 10px;
      background: #007bff;
      color: white;
      transition: transform 0.2s, background 0.3s;
      width: 100%;
    }
    button:hover {
      background: #0056b3;
      transform: scale(1.05);
    }
    #score, #timer {
      margin: 8px;
      font-size: 18px;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    #timer img {
      width: 22px;
      height: 22px;
      vertical-align: middle;
    }
    #nextBtn {
      margin: 20px auto 10px;
      display: block;
      background: #28a745;
      width: 80%;
      max-width: 250px;
      font-size: 18px;
      opacity: 0.6;
      pointer-events: none;
    }
    #nextBtn.enabled {
      opacity: 1;
      pointer-events: auto;
    }
    #nextBtn:hover {
      background: #1e7e34;
    }
    .toggle {
      margin-top: 15px;
      font-size: 16px;
    }
    #gameOver {
      display: none;
      margin-top: 20px;
    }
    #gameOver button {
      background: #ff5722;
      width: 80%;
      max-width: 250px;
      font-size: 18px;
      margin-top: 15px;
    }
    .correct {
      border-color: #28a745 !important;
      box-shadow: 0 0 20px #28a745;
    }
    .wrong {
      border-color: #dc3545 !important;
      box-shadow: 0 0 20px #dc3545;
    }
  </style>
</head>
<body>
  <h1>üåç Guess the Flag</h1>
  <div class="game-container" id="gameContainer">
    <div id="score">Score: 0</div>
    <div id="timer">
      <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjSLbDieSlRBK8dCZ2CEkTtm4Q8ucAnPtPFIaTZ2DoqbfF7y8VrfLgNodZr_z19jzNfDrrsv7ePnRmDfw6mDtxCl-UOt5YHM-m-yJ8TvYtJ6F_K9hOBEdLbKKDTfGzzX2OT3MYNr8xhia0pWL9Jr5nGHI5fqTQY3REiDGyXxFsG4AFeqcHU9-GK2u8lkiEO/s512/timer.png" alt="timer">
      <span id="timeText">15s</span>
    </div>
    <img id="flag" src="" alt="Flag">
    <div class="options" id="options"></div>
    <button id="nextBtn">Next</button>

    <div class="toggle">
      <label>
        <input type="checkbox" id="autoNextToggle" checked>
        Auto Next
      </label>
    </div>

    <div id="gameOver">
      <h2>Game Over!</h2>
      <p id="finalScore"></p>
      <button onclick="restartGame()">Restart</button>
    </div>
  </div>

  <script>
    // ‚úÖ Full list of countries with ISO codes
    // (Generated from ISO 3166-1 alpha-2 codes)
    const countries = [
      {name:"Afghanistan", code:"af"},
      {name:"Albania", code:"al"},
      {name:"Algeria", code:"dz"},
      {name:"Andorra", code:"ad"},
      {name:"Angola", code:"ao"},
      {name:"Argentina", code:"ar"},
      {name:"Armenia", code:"am"},
      {name:"Australia", code:"au"},
      {name:"Austria", code:"at"},
      {name:"Azerbaijan", code:"az"},
      {name:"Bahamas", code:"bs"},
      {name:"Bahrain", code:"bh"},
      {name:"Bangladesh", code:"bd"},
      {name:"Barbados", code:"bb"},
      {name:"Belarus", code:"by"},
      {name:"Belgium", code:"be"},
      {name:"Belize", code:"bz"},
      {name:"Benin", code:"bj"},
      {name:"Bhutan", code:"bt"},
      {name:"Bolivia", code:"bo"},
      {name:"Bosnia and Herzegovina", code:"ba"},
      {name:"Botswana", code:"bw"},
      {name:"Brazil", code:"br"},
      {name:"Brunei", code:"bn"},
      {name:"Bulgaria", code:"bg"},
      {name:"Burkina Faso", code:"bf"},
      {name:"Burundi", code:"bi"},
      {name:"Cambodia", code:"kh"},
      {name:"Cameroon", code:"cm"},
      {name:"Canada", code:"ca"},
      {name:"Cape Verde", code:"cv"},
      {name:"Central African Republic", code:"cf"},
      {name:"Chad", code:"td"},
      {name:"Chile", code:"cl"},
      {name:"China", code:"cn"},
      {name:"Colombia", code:"co"},
      {name:"Comoros", code:"km"},
      {name:"Congo", code:"cg"},
      {name:"Costa Rica", code:"cr"},
      {name:"Croatia", code:"hr"},
      {name:"Cuba", code:"cu"},
      {name:"Cyprus", code:"cy"},
      {name:"Czechia", code:"cz"},
      {name:"Denmark", code:"dk"},
      {name:"Djibouti", code:"dj"},
      {name:"Dominican Republic", code:"do"},
      {name:"Ecuador", code:"ec"},
      {name:"Egypt", code:"eg"},
      {name:"El Salvador", code:"sv"},
      {name:"Estonia", code:"ee"},
      {name:"Ethiopia", code:"et"},
      {name:"Fiji", code:"fj"},
      {name:"Finland", code:"fi"},
      {name:"France", code:"fr"},
      {name:"Germany", code:"de"},
      {name:"Ghana", code:"gh"},
      {name:"Greece", code:"gr"},
      {name:"Hungary", code:"hu"},
      {name:"Iceland", code:"is"},
      {name:"India", code:"in"},
      {name:"Indonesia", code:"id"},
      {name:"Iran", code:"ir"},
      {name:"Iraq", code:"iq"},
      {name:"Ireland", code:"ie"},
      {name:"Israel", code:"il"},
      {name:"Italy", code:"it"},
      {name:"Jamaica", code:"jm"},
      {name:"Japan", code:"jp"},
      {name:"Jordan", code:"jo"},
      {name:"Kazakhstan", code:"kz"},
      {name:"Kenya", code:"ke"},
      {name:"Kuwait", code:"kw"},
      {name:"Kyrgyzstan", code:"kg"},
      {name:"Laos", code:"la"},
      {name:"Latvia", code:"lv"},
      {name:"Lebanon", code:"lb"},
      {name:"Libya", code:"ly"},
      {name:"Lithuania", code:"lt"},
      {name:"Luxembourg", code:"lu"},
      {name:"Madagascar", code:"mg"},
      {name:"Malaysia", code:"my"},
      {name:"Maldives", code:"mv"},
      {name:"Mali", code:"ml"},
      {name:"Malta", code:"mt"},
      {name:"Mexico", code:"mx"},
      {name:"Moldova", code:"md"},
      {name:"Monaco", code:"mc"},
      {name:"Mongolia", code:"mn"},
      {name:"Montenegro", code:"me"},
      {name:"Morocco", code:"ma"},
      {name:"Mozambique", code:"mz"},
      {name:"Myanmar", code:"mm"},
      {name:"Namibia", code:"na"},
      {name:"Nepal", code:"np"},
      {name:"Netherlands", code:"nl"},
      {name:"New Zealand", code:"nz"},
      {name:"Nicaragua", code:"ni"},
      {name:"Niger", code:"ne"},
      {name:"Nigeria", code:"ng"},
      {name:"North Korea", code:"kp"},
      {name:"North Macedonia", code:"mk"},
      {name:"Norway", code:"no"},
      {name:"Oman", code:"om"},
      {name:"Pakistan", code:"pk"},
      {name:"Palestine", code:"ps"},
      {name:"Panama", code:"pa"},
      {name:"Paraguay", code:"py"},
      {name:"Peru", code:"pe"},
      {name:"Philippines", code:"ph"},
      {name:"Poland", code:"pl"},
      {name:"Portugal", code:"pt"},
      {name:"Qatar", code:"qa"},
      {name:"Romania", code:"ro"},
      {name:"Russia", code:"ru"},
      {name:"Rwanda", code:"rw"},
      {name:"Saudi Arabia", code:"sa"},
      {name:"Senegal", code:"sn"},
      {name:"Serbia", code:"rs"},
      {name:"Singapore", code:"sg"},
      {name:"Slovakia", code:"sk"},
      {name:"Slovenia", code:"si"},
      {name:"Somalia", code:"so"},
      {name:"South Africa", code:"za"},
      {name:"South Korea", code:"kr"},
      {name:"Spain", code:"es"},
      {name:"Sri Lanka", code:"lk"},
      {name:"Sudan", code:"sd"},
      {name:"Sweden", code:"se"},
      {name:"Switzerland", code:"ch"},
      {name:"Syria", code:"sy"},
      {name:"Taiwan", code:"tw"},
      {name:"Tajikistan", code:"tj"},
      {name:"Tanzania", code:"tz"},
      {name:"Thailand", code:"th"},
      {name:"Tunisia", code:"tn"},
      {name:"Turkey", code:"tr"},
      {name:"Turkmenistan", code:"tm"},
      {name:"Uganda", code:"ug"},
      {name:"Ukraine", code:"ua"},
      {name:"United Arab Emirates", code:"ae"},
      {name:"United Kingdom", code:"gb"},
      {name:"United States", code:"us"},
      {name:"Uruguay", code:"uy"},
      {name:"Uzbekistan", code:"uz"},
      {name:"Vatican City", code:"va"},
      {name:"Venezuela", code:"ve"},
      {name:"Vietnam", code:"vn"},
      {name:"Yemen", code:"ye"},
      {name:"Zambia", code:"zm"},
      {name:"Zimbabwe", code:"zw"}
    ];

    let score = 0;
    let questionCount = 0;
    let totalQuestions = 10; 
    let currentCountry;
    let timer;
    let timeLeft = 15;
    let autoNext = true;
    let answered = false;

    const flagImg = document.getElementById("flag");
    const optionsDiv = document.getElementById("options");
    const scoreDiv = document.getElementById("score");
    const timeText = document.getElementById("timeText");
    const nextBtn = document.getElementById("nextBtn");
    const autoNextToggle = document.getElementById("autoNextToggle");
    const gameOverDiv = document.getElementById("gameOver");
    const finalScore = document.getElementById("finalScore");
    const gameContainer = document.getElementById("gameContainer");

    autoNextToggle.addEventListener("change", () => {
      autoNext = autoNextToggle.checked;
    });

    nextBtn.addEventListener("click", () => {
      if (nextBtn.classList.contains("enabled")) {
        loadQuestion();
      }
    });

    function startTimer() {
      clearInterval(timer);
      timeLeft = 15;
      timeText.textContent = `${timeLeft}s`;
      timer = setInterval(() => {
        timeLeft--;
        timeText.textContent = `${timeLeft}s`;
        if (timeLeft <= 0) {
          clearInterval(timer);
          handleAnswer(null);
        }
      }, 1000);
    }

    function loadQuestion() {
      if (questionCount >= totalQuestions) {
        endGame();
        return;
      }

      nextBtn.classList.remove("enabled");
      optionsDiv.innerHTML = "";
      gameContainer.classList.remove("correct", "wrong");
      answered = false;

      currentCountry = countries[Math.floor(Math.random() * countries.length)];
      flagImg.src = `https://flagcdn.com/w320/${currentCountry.code}.png`;

      let options = [currentCountry];
      while (options.length < 4) {
        let rand = countries[Math.floor(Math.random() * countries.length)];
        if (!options.includes(rand)) options.push(rand);
      }
      options.sort(() => Math.random() - 0.5);

      options.forEach(option => {
        const btn = document.createElement("button");
        btn.textContent = option.name;
        btn.onclick = () => handleAnswer(option.name);
        optionsDiv.appendChild(btn);
      });

      startTimer();
      questionCount++;
    }

    function handleAnswer(answer) {
      if (answered) return;
      answered = true;

      clearInterval(timer);
      if (answer === currentCountry?.name) {
        score++;
        scoreDiv.textContent = `Score: ${score}`;
        gameContainer.classList.add("correct");
      } else {
        gameContainer.classList.add("wrong");
      }

      if (autoNext) {
        setTimeout(() => {
          loadQuestion();
        }, 1000);
      } else {
        nextBtn.classList.add("enabled");
      }
    }

    function endGame() {
      flagImg.style.display = "none";
      optionsDiv.style.display = "none";
      document.getElementById("timer").style.display = "none";
      nextBtn.style.display = "none";
      document.querySelector(".toggle").style.display = "none";
      gameOverDiv.style.display = "block";
      finalScore.textContent = `Your final score is ${score} out of ${totalQuestions}`;
    }

    function restartGame() {
      score = 0;
      questionCount = 0;
      scoreDiv.textContent = "Score: 0";
      flagImg.style.display = "block";
      optionsDiv.style.display = "grid";
      document.getElementById("timer").style.display = "flex";
      document.querySelector(".toggle").style.display = "block";
      gameOverDiv.style.display = "none";
      nextBtn.style.display = "block";
      nextBtn.classList.remove("enabled");
      loadQuestion();
    }

    loadQuestion();
  </script>
</body>
</html>
