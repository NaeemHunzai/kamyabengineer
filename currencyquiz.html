<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Currency Quiz</title>
  <style>
    :root{
      --primary:#007bff;
      --btn-bg:#007bff;
      --btn-bg-hover:#005bb5;
      --ok:#28a745;
      --bad:#dc3545;
      --white:#ffffff;
      --black:#000000;
    }

    body{
      margin:0;
      padding:12px;
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      background:var(--white);
      color:var(--black);
      display:flex;
      align-items:flex-start;
      justify-content:center;
      min-height:100vh;
    }

    .quiz-container{
      width:100%;
      max-width:480px;
      background:var(--white);
      border-radius:12px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.08);
      padding:16px;
      box-sizing:border-box;
      border:4px solid transparent;
      transition:border-color .25s ease;
    }
    .quiz-container.correct{ border-color: var(--ok); }
    .quiz-container.wrong{ border-color: var(--bad); }

    #question{
      font-size:18px;
      line-height:1.25;
      margin:0 0 14px 0;
      color:var(--black);
    }

    .options{
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:10px;
      margin:14px 0;
    }

    .option-btn{
      background:var(--btn-bg);
      color:var(--white);
      border:0;
      padding:12px 10px;
      font-size:15px;
      border-radius:8px;
      cursor:pointer;
      width:100%;
      text-align:center;
      word-break:break-word;
      transition:transform .12s ease, background .12s ease;
    }
    .option-btn:hover{ background:var(--btn-bg-hover); }
    .option-btn:active{ transform: translateY(1px); }

    .timer{
      font-weight:700;
      color:var(--black);
      margin-top:2px;
      margin-bottom:8px;
      font-size:16px;
      text-align:center;
    }
    .auto-next{
      display:flex;
      justify-content:center;
      align-items:center;
      gap:8px;
      margin-bottom:8px;
      color:var(--black);
      font-size:14px;
    }
    .controls{
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    .next-btn, .restart-btn{
      background:var(--ok);
      color:var(--white);
      border:0;
      padding:12px;
      border-radius:8px;
      font-size:15px;
      cursor:pointer;
    }
    .next-btn:hover, .restart-btn:hover{ filter:brightness(.95); }

    .score{
      margin-top:10px;
      text-align:center;
      font-weight:700;
      color:var(--black);
      font-size:16px;
    }

    @media (max-width:420px){
      .options{ grid-template-columns:1fr; }
      #question{ font-size:17px; }
      .option-btn{ padding:14px; font-size:16px; }
      .timer{ font-size:15px; }
    }
  </style>
</head>
<body>
  <div class="quiz-container" id="quizBox">
    <h2 id="question">Loading question...</h2>

    <div class="options" id="options"></div>

    <div class="timer" id="timer">Time: 10s</div>

    <div class="auto-next" id="autoNextWrap">
      <input type="checkbox" id="autoNext" />
      <label for="autoNext">Auto Next</label>
    </div>

    <div class="controls">
      <button class="next-btn" id="nextBtn" type="button">Next</button>
      <button class="restart-btn" id="restartBtn" type="button" style="display:none;">Restart Quiz</button>
    </div>

    <div class="score" id="scoreBox"></div>
  </div>

  <script>
    const database = [
      { country: "United States", currency: "US Dollar" },
      { country: "United Kingdom", currency: "Pound Sterling" },
      { country: "Japan", currency: "Yen" },
      { country: "India", currency: "Indian Rupee" },
      { country: "China", currency: "Yuan (Renminbi)" },
      { country: "Saudi Arabia", currency: "Saudi Riyal" },
      { country: "Russia", currency: "Russian Ruble" },
      { country: "Switzerland", currency: "Swiss Franc" },
      { country: "Brazil", currency: "Brazilian Real" },
      { country: "Pakistan", currency: "Pakistani Rupee" },
      { country: "Canada", currency: "Canadian Dollar" },
      { country: "Australia", currency: "Australian Dollar" },
      { country: "New Zealand", currency: "New Zealand Dollar" },
      { country: "South Africa", currency: "South African Rand" },
      { country: "Nigeria", currency: "Nigerian Naira" },
      { country: "Mexico", currency: "Mexican Peso" },
      { country: "Argentina", currency: "Argentine Peso" },
      { country: "Turkey", currency: "Turkish Lira" },
      { country: "Egypt", currency: "Egyptian Pound" },
      { country: "Bangladesh", currency: "Bangladeshi Taka" }
    ];

    const MAX_QUESTIONS = 20;
    let questions = [];
    let currentIndex = 0;
    let timerInterval = null;
    let timeLeft = 10;
    let score = 0;
    let answered = false;

    const quizBox = document.getElementById("quizBox");
    const questionEl = document.getElementById("question");
    const optionsEl = document.getElementById("options");
    const timerEl = document.getElementById("timer");
    const scoreBox = document.getElementById("scoreBox");
    const nextBtn = document.getElementById("nextBtn");
    const restartBtn = document.getElementById("restartBtn");
    const autoNextWrap = document.getElementById("autoNextWrap");

    function shuffle(arr){ return arr.map(v=>({v,sort:Math.random()})).sort((a,b)=>a.sort-b.sort).map(({v})=>v); }

    function startQuiz(){
      questions = shuffle(database).slice(0, MAX_QUESTIONS);
      currentIndex = 0;
      score = 0;
      scoreBox.textContent = "";
      restartBtn.style.display = "none";
      nextBtn.style.display = "block";
      autoNextWrap.style.display = "flex";
      loadQuestion();
    }

    function loadQuestion(){
      clearInterval(timerInterval);
      quizBox.classList.remove("correct","wrong");
      answered = false;

      if(currentIndex >= questions.length) return endQuiz();

      const q = questions[currentIndex];
      questionEl.textContent = `What is the currency of ${q.country}?`;

      const wrongs = shuffle(database.filter(x=>x.currency!==q.currency)).slice(0,3).map(x=>x.currency);
      const opts = shuffle([q.currency,...wrongs]);

      optionsEl.innerHTML = "";
      opts.forEach(opt=>{
        const btn=document.createElement("button");
        btn.type="button";
        btn.className="option-btn";
        btn.textContent=opt;
        btn.onclick=()=>checkAnswer(opt===q.currency);
        optionsEl.appendChild(btn);
      });

      timeLeft=10;
      timerEl.textContent=`Time: ${timeLeft}s`;
      timerInterval=setInterval(()=>{
        timeLeft--;
        timerEl.textContent=`Time: ${timeLeft}s`;
        if(timeLeft<=0){
          clearInterval(timerInterval);
          quizBox.classList.add("wrong");
          if(document.getElementById("autoNext").checked){
            setTimeout(nextQuestion,700);
          }
        }
      },1000);
    }

    function checkAnswer(isCorrect){
      if(answered) return;
      answered=true;
      clearInterval(timerInterval);
      if(isCorrect){
        quizBox.classList.add("correct");
        score++;
      } else {
        quizBox.classList.add("wrong");
      }
      if(document.getElementById("autoNext").checked){
        setTimeout(nextQuestion,700);
      }
    }

    function nextQuestion(){
      clearInterval(timerInterval);
      if(!quizBox.classList.contains("correct")&&!quizBox.classList.contains("wrong")){
        quizBox.classList.add("wrong");
      }
      setTimeout(()=>{
        currentIndex++;
        loadQuestion();
      },700);
    }

    function endQuiz(){
      clearInterval(timerInterval);
      questionEl.textContent="Quiz Completed!";
      optionsEl.innerHTML="";
      nextBtn.style.display="none";
      restartBtn.style.display="block";
      timerEl.textContent="";
      autoNextWrap.style.display="none";
      scoreBox.textContent=`Your Score: ${score} / ${MAX_QUESTIONS}`;
    }

    nextBtn.onclick=nextQuestion;
    restartBtn.onclick=startQuiz;
    window.onload=startQuiz;
  </script>
</body>
</html>
