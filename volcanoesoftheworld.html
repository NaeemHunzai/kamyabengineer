<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Volcanoes of the World Quiz</title>
<style>
:root {
  --primary:#007bff;
  --btn-bg:#007bff;
  --btn-bg-hover:#0056b3;
  --ok:#28a745;
  --bad:#dc3545;
  --white:#ffffff;
  --black:#111;
}
body {
  margin:0;
  padding:12px;
  font-family:"Segoe UI",Roboto,Arial,sans-serif;
  background:var(--white);
  color:var(--black);
  display:flex;
  align-items:flex-start;
  justify-content:center;
  min-height:100vh;
}
.quiz-container {
  width:100%;
  max-width:520px;
  background:var(--white);
  border-radius:12px;
  box-shadow:0 6px 18px rgba(0,0,0,0.08);
  padding:16px;
  box-sizing:border-box;
  border:4px solid transparent;
  transition:border-color .3s ease, box-shadow .3s ease;
  text-align:center;
}
.quiz-container.correct {
  border-color:var(--ok);
  box-shadow:0 0 10px var(--ok);
}
.quiz-container.wrong {
  border-color:var(--bad);
  box-shadow:0 0 10px var(--bad);
}
#question {
  margin:0 0 12px 0;
  font-size:20px;
  line-height:1.2;
  text-align:center;
}
.options {
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
  margin:12px 0;
}
.option-btn {
  background:var(--btn-bg);
  color:var(--white);
  border:0;
  padding:12px 10px;
  font-size:15px;
  border-radius:8px;
  cursor:pointer;
  width:100%;
  transition:transform .1s ease, background .12s ease, opacity .12s ease;
}
.option-btn:active { transform:translateY(1px); }
.option-btn:hover { background:var(--btn-bg-hover); }
.option-btn[disabled] { opacity:.7; cursor:default; }
.option-btn.correct {
  background:var(--ok)!important;
  box-shadow:0 0 10px var(--ok);
}
.option-btn.wrong {
  background:var(--bad)!important;
  box-shadow:0 0 10px var(--bad);
}
.timer {
  margin:10px 0;
  font-weight:700;
  font-size:16px;
}
.auto-next {
  display:flex;
  justify-content:center;
  align-items:center;
  gap:8px;
  margin-bottom:8px;
  font-size:14px;
}
.controls {
  display:flex;
  gap:8px;
  flex-direction:column;
  align-items:stretch;
  margin-top:6px;
}
.next-btn,.restart-btn {
  background:var(--ok);
  color:var(--white);
  border:0;
  padding:12px;
  border-radius:8px;
  font-size:15px;
  cursor:pointer;
  width:100%;
}
.next-btn:hover,.restart-btn:hover {
  filter:brightness(.95);
}
.score {
  margin-top:12px;
  text-align:center;
  font-weight:700;
  font-size:16px;
}
@media (max-width:420px){
  .options{grid-template-columns:1fr;}
  #question{font-size:18px;}
  .option-btn{padding:14px;font-size:16px;}
  .timer{font-size:15px;}
}
</style>
</head>
<body>
<div class="quiz-container" id="quizBox">
  <h2 id="question">Loading question...</h2>
  <div class="options" id="options"></div>
  <div class="timer" id="timer">Time: 10s</div>
  <div class="auto-next">
    <input type="checkbox" id="autoNext">
    <label for="autoNext">Auto Next</label>
  </div>
  <div class="controls">
    <button id="nextBtn" class="next-btn" type="button">Next</button>
    <button id="restartBtn" class="restart-btn" type="button" style="display:none;">Restart Quiz</button>
  </div>
  <div id="scoreBox" class="score"></div>
</div>

<script>
  /******** Database ********/
const questions = [
  { question: "Which is the largest active volcano in the world?", options: ["Mauna Loa", "Mount Vesuvius", "Mount Fuji", "Krakatoa"], answer: "Mauna Loa" },
  { question: "Which volcano erupted in 79 AD burying the cities of Pompeii and Herculaneum?", options: ["Mount Etna", "Mount Vesuvius", "Krakatoa", "Mount St. Helens"], answer: "Mount Vesuvius" },
  { question: "Which volcano is known as the 'Fire Mountain' in Japan?", options: ["Mount Fuji", "Mount Aso", "Mount Unzen", "Mount Sakurajima"], answer: "Mount Fuji" },
  { question: "Which volcano caused the 1883 catastrophic eruption that destroyed a large part of its island?", options: ["Mount Vesuvius", "Krakatoa", "Mount Tambora", "Mount Pinatubo"], answer: "Krakatoa" },
  { question: "Which is the most active volcano in the world?", options: ["Mount Etna", "Kilauea", "Mount Merapi", "Mount Stromboli"], answer: "Kilauea" },
  { question: "Which volcano's eruption in 1815 caused the 'Year Without a Summer'?", options: ["Mount Tambora", "Mount Vesuvius", "Krakatoa", "Mount St. Helens"], answer: "Mount Tambora" },
  { question: "Which volcano erupted in 1980 causing massive destruction in Washington, USA?", options: ["Mount Rainier", "Mount St. Helens", "Mount Hood", "Mount Shasta"], answer: "Mount St. Helens" },
  { question: "Which volcano is located on the island of Java, Indonesia?", options: ["Mount Merapi", "Mount Fuji", "Mount Pinatubo", "Mount Etna"], answer: "Mount Merapi" },
  { question: "Which volcano erupted in 1991 causing a major eruption in the Philippines?", options: ["Mount Pinatubo", "Mount Mayon", "Mount Taal", "Mount Agung"], answer: "Mount Pinatubo" },
  { question: "Which volcano is famous for its continuous mild eruptions, known as 'Strombolian'?", options: ["Mount Stromboli", "Mount Etna", "Mount Vesuvius", "Kilauea"], answer: "Mount Stromboli" },
  { question: "Which volcano is the highest in Japan?", options: ["Mount Aso", "Mount Fuji", "Mount Unzen", "Mount Sakurajima"], answer: "Mount Fuji" },
  { question: "Which volcano lies on the Pacific Ring of Fire and is located in Indonesia?", options: ["Mount St. Helens", "Mount Pinatubo", "Mount Krakatoa", "Mount Etna"], answer: "Mount Krakatoa" },
  { question: "Which volcano erupted in 1902, causing one of the deadliest eruptions in history in Martinique?", options: ["Mount Pelee", "Mount Vesuvius", "Mount Etna", "Mount Mayon"], answer: "Mount Pelee" },
  { question: "Which is the only volcano that erupted in Iceland causing massive ash clouds in 2010?", options: ["Eyjafjallajökull", "Hekla", "Krafla", "Askja"], answer: "Eyjafjallajökull" },
  { question: "Which type of volcano is Mount Fuji?", options: ["Shield Volcano", "Stratovolcano", "Cinder Cone", "Lava Dome"], answer: "Stratovolcano" },
  { question: "Which volcano is part of the Hawaiian Islands?", options: ["Kilauea", "Mount Vesuvius", "Mount Etna", "Mount Merapi"], answer: "Kilauea" },
  { question: "Which volcano is located in Sicily, Italy?", options: ["Mount Etna", "Mount Vesuvius", "Stromboli", "Mount Stromboli"], answer: "Mount Etna" },
  { question: "Which volcano erupted in 79 AD alongside Mount Vesuvius?", options: ["Mount Etna", "Mount Stromboli", "Mount Hekla", "No other volcano erupted"], answer: "No other volcano erupted" },
  { question: "Which volcano in Indonesia is known as 'The Mountain of Fire'?", options: ["Mount Merapi", "Mount Semeru", "Mount Bromo", "Mount Agung"], answer: "Mount Merapi" },
  { question: "Which volcano erupted in 2018 causing evacuation in Guatemala?", options: ["Volcán de Fuego", "Mount Pinatubo", "Mount St. Helens", "Mount Vesuvius"], answer: "Volcán de Fuego" },
  { question: "Which volcano is the largest in Indonesia?", options: ["Mount Semeru", "Mount Tambora", "Mount Merapi", "Mount Rinjani"], answer: "Mount Tambora" },
  { question: "Which volcano erupted in 1886 in New Zealand?", options: ["Mount Ruapehu", "Mount Tarawera", "Mount Taranaki", "White Island"], answer: "Mount Tarawera" },
  { question: "Which volcano caused the deadliest eruption in recorded history with 92,000 deaths?", options: ["Mount Tambora", "Mount Vesuvius", "Mount Pelee", "Krakatoa"], answer: "Mount Tambora" },
  { question: "Which volcano erupted in the Philippines in 2020?", options: ["Taal Volcano", "Mayon Volcano", "Pinatubo", "Bulusan Volcano"], answer: "Taal Volcano" },
  { question: "Which volcano is located in the Pacific Northwest of the USA?", options: ["Mount St. Helens", "Mount Hood", "Mount Rainier", "All of the above"], answer: "All of the above" },
  { question: "Which volcano in Japan erupted violently in 1792 causing a tsunami?", options: ["Mount Unzen", "Mount Fuji", "Mount Aso", "Mount Sakurajima"], answer: "Mount Unzen" },
  { question: "Which volcano is located in Iceland and has frequent eruptions since the last 1000 years?", options: ["Hekla", "Eyjafjallajökull", "Askja", "Krafla"], answer: "Hekla" },
  { question: "Which volcano erupted in 1963 in Bali, Indonesia?", options: ["Mount Agung", "Mount Bromo", "Mount Merapi", "Mount Semeru"], answer: "Mount Agung" },
  { question: "Which volcano in Chile erupted in 2015?", options: ["Calbuco", "Villarrica", "Llaima", "Chaitén"], answer: "Calbuco" },
  { question: "Which volcano is located in the Caribbean?", options: ["Soufrière Hills", "Mount Pelee", "Mount Vesuvius", "Mount Etna"], answer: "Soufrière Hills" },
  { question: "Which type of volcano is Kilauea?", options: ["Shield Volcano", "Stratovolcano", "Cinder Cone", "Lava Dome"], answer: "Shield Volcano" },
  { question: "Which volcano's eruption formed the caldera of Krakatoa?", options: ["Mount Krakatoa", "Mount Pinatubo", "Mount Tambora", "Mount Merapi"], answer: "Mount Krakatoa" },
  { question: "Which volcano is known for its persistent lava lake in Africa?", options: ["Nyiragongo", "Mount Kenya", "Mount Kilimanjaro", "Ol Doinyo Lengai"], answer: "Nyiragongo" },
  { question: "Which volcano is located on the border of Italy and Switzerland?", options: ["Mount Vesuvius", "Mount Etna", "Monte San Giorgio", "Mount Stromboli"], answer: "Monte San Giorgio" },
  { question: "Which volcano erupted in 1994 causing evacuation in Japan?", options: ["Mount Sakurajima", "Mount Fuji", "Mount Unzen", "Mount Aso"], answer: "Mount Sakurajima" },
  { question: "Which volcano is considered dormant but could erupt again in the future?", options: ["Mount Fuji", "Mount St. Helens", "Mount Pinatubo", "Mount Vesuvius"], answer: "Mount Fuji" },
  { question: "Which volcano is located in Russia’s Kamchatka Peninsula?", options: ["Klyuchevskaya Sopka", "Mount Elbrus", "Mount Etna", "Krakatoa"], answer: "Klyuchevskaya Sopka" },
  { question: "Which volcano is known for the 1982 eruption in the Galapagos Islands?", options: ["Sierra Negra", "Wolf Volcano", "Cerro Azul", "Fernandina"], answer: "Sierra Negra" },
  { question: "Which volcano in Italy is still highly active?", options: ["Mount Vesuvius", "Mount Etna", "Stromboli", "All of the above"], answer: "All of the above" },
  { question: "Which volcano erupted in 1997 in Indonesia?", options: ["Mount Semeru", "Mount Merapi", "Mount Kerinci", "Mount Bromo"], answer: "Mount Kerinci" },
  { question: "Which volcano is located in the Canary Islands?", options: ["Teide", "Mount Etna", "Mount Vesuvius", "Stromboli"], answer: "Teide" },
  { question: "Which volcano erupted in Alaska in 2008?", options: ["Mount Redoubt", "Mount St. Helens", "Mount Spurr", "Mount Pavlof"], answer: "Mount Redoubt" },
  { question: "Which volcano erupted in Guatemala in 2018?", options: ["Fuego", "Pacaya", "Santa Maria", "Santiaguito"], answer: "Fuego" },
  { question: "Which volcano is famous for its lava fountains called 'fireworks'?", options: ["Stromboli", "Etna", "Kilauea", "Mount Vesuvius"], answer: "Stromboli" },
  { question: "Which volcano erupted in the Philippines in 1754 and is one of the most active there?", options: ["Mayon", "Pinatubo", "Taal", "Bulusan"], answer: "Mayon" },
  { question: "Which volcano erupted in Chile in 2011?", options: ["Puyehue-Cordón Caulle", "Villarrica", "Llaima", "Calbuco"], answer: "Puyehue-Cordón Caulle" }
];

let currentIndex=0, score=0, timer, timeLeft=10, answered=false;
let shuffledQuestions=[]; // ✅ new array for randomized questions

const questionEl=document.getElementById("question");
const optionsEl=document.getElementById("options");
const timerEl=document.getElementById("timer");
const scoreBox=document.getElementById("scoreBox");
const nextBtn=document.getElementById("nextBtn");
const restartBtn=document.getElementById("restartBtn");
const quizBox=document.getElementById("quizBox");
const autoNext=document.getElementById("autoNext");

function shuffle(array){
  for(let i=array.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [array[i],array[j]]=[array[j],array[i]];
  }
  return array;
}

function startQuiz(){
  currentIndex = 0;
  score = 0;
  restartBtn.style.display = "none";
  nextBtn.style.display = "block";
  scoreBox.textContent = "";
  autoNext.parentElement.style.display = "flex";

  // ✅ Pick 10 random questions from full pool
  shuffledQuestions = shuffle([...questions]).slice(0, 10);

  loadQuestion();
}


function loadQuestion(){
  clearInterval(timer);
  quizBox.classList.remove("correct","wrong");
  answered=false;
  if(currentIndex>=shuffledQuestions.length){endQuiz();return;}
  const q=shuffledQuestions[currentIndex];
  
  // ✅ Randomize options each time
  const shuffledOptions = shuffle([...q.options]);
  
  questionEl.textContent=q.question;
  optionsEl.innerHTML="";
  shuffledOptions.forEach(opt=>{
    const btn=document.createElement("button");
    btn.textContent=opt;
    btn.className="option-btn";
    btn.onclick=()=>selectOption(opt,q.answer,btn);
    optionsEl.appendChild(btn);
  });
  timeLeft=10;
  timerEl.textContent=`Time: ${timeLeft}s`;
  timer=setInterval(()=>{
    timeLeft--;
    timerEl.textContent=`Time: ${timeLeft}s`;
    if(timeLeft<=0){
      clearInterval(timer);
      Array.from(optionsEl.children).forEach(b => b.disabled = true);
      showCorrect(q.answer);
      quizBox.classList.add("wrong");
      answered = true;
      if (autoNext.checked) {
        setTimeout(()=> { nextQuestion(); }, 1000);
      }
    }
  },1000);
}

function selectOption(selected,correct,btn){
  if(answered)return;
  answered=true;
  clearInterval(timer);
  const all=document.querySelectorAll(".option-btn");
  all.forEach(b=>b.disabled=true);
  if(selected===correct){
    btn.classList.add("correct");
    quizBox.classList.add("correct");
    score++;
  } else {
    btn.classList.add("wrong");
    showCorrect(correct);
    quizBox.classList.add("wrong");
  }
  if(autoNext.checked)setTimeout(()=>nextQuestion(),1000);
}

function showCorrect(correct){
  document.querySelectorAll(".option-btn").forEach(o=>{
    if(o.textContent===correct)o.classList.add("correct");
  });
}

function nextQuestion(){
  if(!answered){
    clearInterval(timer);
    const correct=shuffledQuestions[currentIndex].answer;
    showCorrect(correct);
    quizBox.classList.add("wrong");
    answered=true;
    setTimeout(()=>{
      currentIndex++;
      loadQuestion();
    },1000);
    return;
  }
  currentIndex++;
  loadQuestion();
}

function endQuiz(){
  clearInterval(timer);
  questionEl.textContent="Quiz Completed!";
  optionsEl.innerHTML="";
  timerEl.textContent="";
  nextBtn.style.display="none";
  restartBtn.style.display="block";
  scoreBox.textContent=`Your Score: ${score}/${shuffledQuestions.length}`;
  quizBox.classList.remove("correct","wrong");
  autoNext.parentElement.style.display="none"; // ✅ Hide auto-next
}

restartBtn.onclick=startQuiz;
nextBtn.onclick=nextQuestion;

startQuiz();
</script>
</body>
</html>
